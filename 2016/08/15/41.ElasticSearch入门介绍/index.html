

<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ElasticSearch 入门介绍 | 技术博客</title>
  <meta name="author" content="Joseph">
  
  <meta name="description" content="部门的技术博客">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="ElasticSearch 入门介绍"/>
  <meta property="og:site_name" content="技术博客"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon" type="image/x-ico">
  <link rel="alternate" href="http://wisdombud.github.io/atom.xml" title="技术博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//libs.baidu.com/jquery/1.8.0/jquery.min.js"></script>
</head>


<body>
  <header id="header" class="inner">
<div class="alignleft">
  <h1><a href="/">技术博客</a></h1>
  <h2><a href="/">慧萌信安互联网</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">首页</a></li>
    
      <li><a href="/archives">归档</a></li>
    
	<li> <a href="/atom.xml">RSS</a> </li>
<li> <a title="把这个链接拖到你的Chrome收藏夹工具栏中" href='javascript:(function() {
	function c() {
		var e = document.createElement("link");
		e.setAttribute("type", "text/css");
		e.setAttribute("rel", "stylesheet");
		e.setAttribute("href", f);
		e.setAttribute("class", l);
		document.body.appendChild(e)
	}
 
	function h() {
		var e = document.getElementsByClassName(l);
		for (var t = 0; t < e.length; t++) {
			document.body.removeChild(e[t])
		}
	}
 
	function p() {
		var e = document.createElement("div");
		e.setAttribute("class", a);
		document.body.appendChild(e);
		setTimeout(function() {
			document.body.removeChild(e)
		}, 100)
	}
 
	function d(e) {
		return {
			height : e.offsetHeight,
			width : e.offsetWidth
		}
	}
 
	function v(i) {
		var s = d(i);
		return s.height > e && s.height < n && s.width > t && s.width < r
	}
 
	function m(e) {
		var t = e;
		var n = 0;
		while (!!t) {
			n += t.offsetTop;
			t = t.offsetParent
		}
		return n
	}
 
	function g() {
		var e = document.documentElement;
		if (!!window.innerWidth) {
			return window.innerHeight
		} else if (e && !isNaN(e.clientHeight)) {
			return e.clientHeight
		}
		return 0
	}
 
	function y() {
		if (window.pageYOffset) {
			return window.pageYOffset
		}
		return Math.max(document.documentElement.scrollTop, document.body.scrollTop)
	}
 
	function E(e) {
		var t = m(e);
		return t >= w && t <= b + w
	}
 
	function S() {
		var e = document.createElement("audio");
		e.setAttribute("class", l);
		e.src = i;
		e.loop = false;
		e.addEventListener("canplay", function() {
			setTimeout(function() {
				x(k)
			}, 500);
			setTimeout(function() {
				N();
				p();
				for (var e = 0; e < O.length; e++) {
					T(O[e])
				}
			}, 15500)
		}, true);
		e.addEventListener("ended", function() {
			N();
			h()
		}, true);
		e.innerHTML = " <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>";
		document.body.appendChild(e);
		e.play()
	}
 
	function x(e) {
		e.className += " " + s + " " + o
	}
 
	function T(e) {
		e.className += " " + s + " " + u[Math.floor(Math.random() * u.length)]
	}
 
	function N() {
		var e = document.getElementsByClassName(s);
		var t = new RegExp("\\b" + s + "\\b");
		for (var n = 0; n < e.length; ) {
			e[n].className = e[n].className.replace(t, "")
		}
	}
 
	var e = 30;
	var t = 30;
	var n = 350;
	var r = 350;
	var i = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3";
	var s = "mw-harlem_shake_me";
	var o = "im_first";
	var u = ["im_drunk", "im_baked", "im_trippin", "im_blown"];
	var a = "mw-strobe_light";
	var f = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css";
	var l = "mw_added_css";
	var b = g();
	var w = y();
	var C = document.getElementsByTagName("*");
	var k = null;
	for (var L = 0; L < C.length; L++) {
		var A = C[L];
		if (v(A)) {
			if (E(A)) {
				k = A;
				break
			}
		}
	}
	if (A === null) {
		console.warn("Could not find a node of the right size. Please try a different page.");
		return
	}
	c();
	S();
	var O = [];
	for (var L = 0; L < C.length; L++) {
		var A = C[L];
		if (v(A)) {
			O.push(A)
		}
	}
})()    '>High一下</a> </li>

  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
  
    <h1 class="title">ElasticSearch 入门介绍</h1>
  

      
        <div class="icon"></div>
        <p style="font-family: Helvetica Neue, Helvetica, Arial, "Hiragino Sans GB", sans-serif;">
           <span style=" display: block;  margin: 10px 0; ">
 	时间：<time style="display:inline" datetime="2016-08-15T08:38:35.000Z">2016-08-15</time></span>
        
          <span style=" display: block;  margin: 10px 0; ">作者：big-bear</span>
        
      

    </header>
    <div class="entry">
      
        <h1 id="elasticsearch-&#x5165;&#x95E8;&#x4ECB;&#x7ECD;"><a href="#ElasticSearch-&#x5165;&#x95E8;&#x4ECB;&#x7ECD;" class="headerlink" title="ElasticSearch &#x5165;&#x95E8;&#x4ECB;&#x7ECD;"></a>ElasticSearch &#x5165;&#x95E8;&#x4ECB;&#x7ECD;</h1><h2 id="1-what-elastic-searches&#x662F;&#x4EC0;&#x4E48;"><a href="#1-what-Elastic-Search-ES-&#x662F;&#x4EC0;&#x4E48;" class="headerlink" title="1. what  Elastic Search(ES)&#x662F;&#x4EC0;&#x4E48;"></a>1. what  Elastic Search(ES)&#x662F;&#x4EC0;&#x4E48;</h2><h3 id="&#x5168;&#x6587;&#x68C0;&#x7D22;&#x548C;lucene"><a href="#&#x5168;&#x6587;&#x68C0;&#x7D22;&#x548C;lucene" class="headerlink" title="&#x5168;&#x6587;&#x68C0;&#x7D22;&#x548C;lucene"></a>&#x5168;&#x6587;&#x68C0;&#x7D22;&#x548C;lucene</h3><h4 id="&#x5168;&#x6587;&#x68C0;&#x7D22;"><a href="#&#x5168;&#x6587;&#x68C0;&#x7D22;" class="headerlink" title="&#x5168;&#x6587;&#x68C0;&#x7D22;"></a>&#x5168;&#x6587;&#x68C0;&#x7D22;</h4><p><strong>&#x4F18;&#x70B9;</strong>:&#x9AD8;&#x6548;,&#x51C6;&#x786E;,&#x5206;&#x8BCD;<br> &#x5168;&#x6587;&#x68C0;&#x7D22;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4E00;&#x4E9B;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x4ECE;&#x6570;&#x636E;&#x5C42;&#x4E2D;&#x67E5;&#x627E;&#x5230;&#x6240;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;</p>
<blockquote>
<ul>
<li>&#x5168;&#x6587;&#x68C0;&#x7D22;&#x548C;&#x6570;&#x636E;&#x5E93;&#x201D;LIKE&#x201D;&#x8BED;&#x53E5;&#x76F8;&#x6BD4;&#xFF0C;&#x8FDC;&#x6BD4;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5F00;&#x9500;&#x5C0F;&#xFF0C;&#x56E0;&#x4E3A;&#x68C0;&#x7D22;&#x8FC7;&#x7A0B;&#x5168;&#x90E8;&#x4ECE;&#x901A;&#x8FC7;&#x68C0;&#x7D22;&#x6587;&#x4EF6;&#x5B8C;&#x6210;&#xFF0C;&#x56E0;&#x6B64;&#x6548;&#x7387;&#x975E;&#x5E38;&#x9AD8;&#x3002;</li>
<li>&#x5728;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x9886;&#x57DF;&#xFF0C;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x641C;&#x7D22;&#x4FE1;&#x606F;&#x53EB;&#x505A;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x800C;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x7CFB;&#x7EDF;&#x628A;&#x6D77;&#x91CF;&#x4FE1;&#x606F;&#x6309;&#x7167;&#x8FD9;&#x4E9B;&#x5173; &#x952E;&#x5B57;&#x8FDB;&#x884C;&#x7ED3;&#x6784;&#x5316;&#x5904;&#x7406;&#xFF0C;&#x628A;&#x6587;&#x7AE0;&#x6253;&#x6563;&#x6210;&#x6BB5;&#x843D;&#x3001;&#x6587;&#x5B57;&#xFF0C;&#x6700;&#x540E;&#xFF0C;&#x6309;&#x5173;&#x952E;&#x5B57;&#x5BF9;&#x6587;&#x7AE0;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x3002;&#x8FD9;&#x4E2A;&#x5904;&#x7406;&#x540E;&#x7684;&#x6570;&#x636E;&#x6587;&#x672C;&#x53EB;&#x505A;&#x68C0;&#x7D22;&#x6587;&#x4EF6;&#xFF0C;&#x68C0;&#x7D22;&#x6587;&#x4EF6;&#x5F80;&#x5F80;&#x6BD4;&#x5B9E;&#x9645;&#x6570;&#x636E;&#x5C0F;&#x5F97;&#x591A;&#xFF0C;&#x4F46;&#x5B83;&#x7684;&#x6570;&#x636E;&#x6240;&#x5305;&#x542B;&#x7684;&#x4FE1;&#x606F;&#x91CF;&#x635F;&#x5931;&#x5374;&#x975E;&#x5E38;&#x5C0F;&#x3002;&#x5F53;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x5B57;&#x65F6;&#xFF0C;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x5F15;&#x64CE;&#x53EF;&#x4EE5;&#x5F88;&#x5FEB;&#x5730;&#x5B9A;&#x4F4D;&#x5230;&#x76F8;&#x5173;&#x6587;&#x672C;&#x3002;</li>
</ul>
</blockquote>
<h4 id="lucene"><a href="#lucene" class="headerlink" title="lucene"></a>lucene</h4><blockquote>
<p>lucene&#x662F;&#x4E00;&#x4E2A;&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x5F15;&#x64CE;&#x5E93;,Apache&#x57FA;&#x91D1;&#x4F1A;&#x8D5E;&#x52A9;&#x9879;&#x76EE;.&#x65E0;&#x8BBA;&#x5728;&#x5F00;&#x6E90;&#x8FD8;&#x662F;&#x4E13;&#x6709;&#x9886;&#x57DF;&#xFF0C;Lucene&#x53EF;&#x4EE5;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x8FC4;&#x4ECA;&#x4E3A;&#x6B62;&#x6700;&#x5148;&#x8FDB;&#x3001;&#x6027;&#x80FD;&#x6700;&#x597D;&#x7684;&#x3001;&#x529F;&#x80FD;&#x6700;&#x5168;&#x7684;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x5E93;(&#x300A;Elastic Search &#x6743;&#x5A01;&#x6307;&#x5357;&#x300B;)&#x3002;lucene&#x6709;&#x5F88;&#x591A;&#x4F18;&#x70B9;,&#x5305;&#x62EC;:&#x5B83;&#x7684;&#x6587;&#x672C;&#x5206;&#x6790;&#x5668;&#x53EF;&#x4EE5;&#x5B9A;&#x5236;&#xFF0C;&#x68C0;&#x7D22;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x5B9A;&#x5236;&#xFF0C;&#x67E5;&#x8BE2;&#x5F15;&#x64CE;&#x4E5F;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x53EF;&#x9009;&#x65B9;&#x6848;.&#x6B64;&#x5916;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E00;&#x5957;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#x7684;API&#x63A5;&#x53E3;&#xFF0C;&#x4F7F;&#x5BA2;&#x6237;&#x7528;&#x8D77;&#x6765;&#x5F88;&#x65B9;&#x4FBF;.</p>
</blockquote>
<h3 id="elastic-search"><a href="#Elastic-Search" class="headerlink" title="Elastic Search"></a>Elastic Search</h3><blockquote>
<p>lucene&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#x7684;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x5F15;&#x64CE;&#x5E93;&#xFF0C;&#x4F46;&#x662F;&#x9057;&#x61BE;&#x7684;&#x662F;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x5E93;&#xFF0C;&#x60F3;&#x8981;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x4F60;&#x5FC5;&#x987B;&#x4F7F;&#x7528;Java&#x6765;&#x4F5C;&#x4E3A;&#x5F00;&#x53D1;&#x8BED;&#x8A00;&#x5E76;&#x5C06;&#x5176;&#x76F4;&#x63A5;&#x96C6;&#x6210;&#x5230;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x66F4;&#x7CDF;&#x7CD5;&#x7684;&#x662F;&#xFF0C;Lucene&#x975E;&#x5E38;&#x590D;&#x6742;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x6DF1;&#x5165;&#x4E86;&#x89E3;&#x68C0;&#x7D22;&#x7684;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x6765;&#x7406;&#x89E3;&#x5B83;&#x662F;&#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x7684;&#x3002;</p>
<p>   Elasticsearch&#x4E5F;&#x4F7F;&#x7528;Java&#x5F00;&#x53D1;&#x5E76;&#x4F7F;&#x7528;Lucene&#x4F5C;&#x4E3A;&#x5176;&#x6838;&#x5FC3;&#x6765;&#x5B9E;&#x73B0;&#x6240;&#x6709;&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x7684;&#x76EE;&#x7684;&#x662F;&#x901A;&#x8FC7;&#x7B80;&#x5355;&#x7684;RESTful API&#x6765;&#x9690;&#x85CF;Lucene&#x7684;&#x590D;&#x6742;&#x6027;&#xFF0C;&#x4ECE;&#x800C;&#x8BA9;&#x5168;&#x6587;&#x641C;&#x7D22;&#x53D8;&#x5F97;&#x7B80;&#x5355;&#x3002;</p>
</blockquote>
<h2 id="2-why-&#x4E3A;&#x4EC0;&#x4E48;&#x9009;&#x62E9;eses&#x6709;&#x4EC0;&#x4E48;&#x4F18;&#x70B9;"><a href="#2-why-&#x4E3A;&#x4EC0;&#x4E48;&#x9009;&#x62E9;ES-ES&#x6709;&#x4EC0;&#x4E48;&#x4F18;&#x70B9;" class="headerlink" title="2. why &#x4E3A;&#x4EC0;&#x4E48;&#x9009;&#x62E9;ES,ES&#x6709;&#x4EC0;&#x4E48;&#x4F18;&#x70B9;"></a>2. why &#x4E3A;&#x4EC0;&#x4E48;&#x9009;&#x62E9;ES,ES&#x6709;&#x4EC0;&#x4E48;&#x4F18;&#x70B9;</h2><ol>
<li>ES&#x4EE5;Lucene&#x4E3A;&#x6838;&#x5FC3;&#x5B9E;&#x73B0;&#x4E86;&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x529F;&#x80FD;&#xFF0C;&#x5B83;&#x62E5;&#x6709;&#x7740;&#x5168;&#x6587;&#x641C;&#x7D22;&#x7684;&#x4F18;&#x70B9;&#xFF0C;&#x51C6;&#x786E;&#x9AD8;&#x6548;&#x7684;&#x67E5;&#x8BE2;&#x548C;&#x5206;&#x8BCD;&#x5904;&#x7406;&#x6570;&#x636E;&#x6E90;&#x3002;</li>
<li>ES&#x5C01;&#x88C5;&#x4E86;Lucene,&#x5BF9;&#x7528;&#x6237;&#x9690;&#x85CF;&#x4E86;Lucene&#x7684;&#x590D;&#x6742;&#x77E5;&#x8BC6;&#xFF0C;&#x7528;&#x6237;&#x53EA;&#x9700;&#x8981;&#x4E86;&#x89E3;ES&#x63D0;&#x4F9B;&#x7684;RESTful API&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x53BB;&#x4E86;&#x89E3;Lucene&#x7684;&#x4F17;&#x591A;&#x57FA;&#x672C;&#x77E5;&#x8BC6;</li>
<li>ES&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x901A;&#x8FC7;http&#x8BF7;&#x6C42;&#x5C31;&#x53EF;&#x4EE5;&#x64CD;&#x4F5C;&#xFF0C;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x9879;&#x76EE;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x4F7F;&#x7528;&#x8BBF;&#x95EE;ES</li>
<li>ES&#x652F;&#x6301;&#x5206;&#x5E03;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x6269;&#x5C55;&#x5230;&#x4E0A;&#x767E;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5904;&#x7406;PD&#x7EA7;&#x7ED3;&#x6784;&#x5316;&#x6216;&#x8005;&#x975E;&#x7ED3;&#x6784;&#x8BDD;&#x6570;&#x636E;&#x3002;</li>
</ol>
<h2 id="3-when-or-where&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x4F7F;&#x7528;elastic"><a href="#3-when-or-where&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x4F7F;&#x7528;elastic" class="headerlink" title="3. when or where&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x4F7F;&#x7528;elastic"></a>3. when or where&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x4F7F;&#x7528;elastic</h2><ol>
<li>&#x5B57;&#x6BB5;&#x6587;&#x672C;&#x91CF;&#x8F83;&#x5927;&#x4F1A;&#x6BD4;&#x8F83;&#x5927;,&#x7528;&#x6570;&#x636E;&#x5E93;&#x7684;like&#x6548;&#x7387;&#x4F1A;&#x660E;&#x663E;&#x611F;&#x89C9;&#x51FA;&#x6765;</li>
<li>&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;&#x65F6;&#x5019;&#x9700;&#x8981;&#x5BF9;&#x5173;&#x952E;&#x8BCD;&#x8FDB;&#x884C;&#x5206;&#x8BCD;&#x800C;&#x4E0D;&#x662F;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x5339;&#x914D;</li>
</ol>
<h2 id="4-how-&#x5982;&#x4F55;&#x4F7F;&#x7528;es"><a href="#4-how-&#x5982;&#x4F55;&#x4F7F;&#x7528;ES" class="headerlink" title="4. how &#x5982;&#x4F55;&#x4F7F;&#x7528;ES"></a>4. how &#x5982;&#x4F55;&#x4F7F;&#x7528;ES</h2><h3 id="1es&#x7684;&#x5B89;&#x88C5;"><a href="#1-ES&#x7684;&#x5B89;&#x88C5;" class="headerlink" title="1.ES&#x7684;&#x5B89;&#x88C5;"></a>1.ES&#x7684;&#x5B89;&#x88C5;</h3><p>ES&#x7684;&#x5B89;&#x88C5;&#x5F88;&#x7B80;&#x5355;,&#x5373;&#x88C5;&#x5373;&#x7528;.&#x53BB;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;ES<a href="https://www.elastic.co/downloads/elasticsearch" target="_blank" rel="external">&#x4E0B;&#x8F7D;&#x5730;&#x5740;</a>,&#x5728;&#x4EFB;&#x4F55;&#x914D;&#x7F6E;&#x4E86;java&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x7684;&#x7535;&#x8111;&#x4E0A;&#x540E;&#x5C06;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x89E3;&#x538B;&#x7F29;&#x5373;&#x53EF;.<br>&#x89E3;&#x538B;&#x540E;&#x8FDB;&#x5165;&#x89E3;&#x538B;&#x4E0B;&#x7684;bin&#x6587;&#x4EF6;&#x5939;,&#x542F;&#x52A8;elasticserach.bat(windows&#x7CFB;&#x7EDF;),&#x5982;&#x4E0B;:<br><img src="http://7xsvhr.com1.z0.glb.clouddn.com/ES/document/bin.jpg" alt="&#x542F;&#x52A8;&#x76EE;&#x5F55;"><br>&#x542F;&#x52A8;&#x540E;&#x8FDB;&#x5165;cmd&#x7A97;&#x53E3;,&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x5373;&#x6210;&#x529F;&#x542F;&#x52A8;:<br><img src="http://7xsvhr.com1.z0.glb.clouddn.com/ES/document/console.jpg" alt="&#x6B64;&#x5904;&#x8F93;&#x5165;&#x56FE;&#x7247;&#x7684;&#x63CF;&#x8FF0;"><br>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#x4EE5;&#x4E0B;ES,&#x8F93;&#x5165;http:localhost:9200,&#x5982;&#x4E0B;&#x5373;&#x4E3A;&#x6210;&#x529F;&#x8FD0;&#x884C;:<br><img src="http://7xsvhr.com1.z0.glb.clouddn.com/page.jpg" alt="&#x6B64;&#x5904;&#x8F93;&#x5165;&#x56FE;&#x7247;&#x7684;&#x63CF;&#x8FF0;"></p>
<h3 id="2-es&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7684;&#x4ECB;&#x7ECD;"><a href="#2-ES&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7684;&#x4ECB;&#x7ECD;" class="headerlink" title="2. ES&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7684;&#x4ECB;&#x7ECD;"></a>2. ES&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7684;&#x4ECB;&#x7ECD;</h3><p>ES&#x662F;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x662F;<strong>&#x9762;&#x5411;&#x6587;&#x6863;</strong>&#x7684;,&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;&#x5F62;&#x5F0F;&#x662F;&#x4EE5;&#x5BF9;&#x8C61;&#x7684;&#x5F62;&#x5F0F;(JSON)&#x6765;&#x5B58;&#x50A8;&#x7684;,&#x800C;&#x4E0D;&#x662F;&#x50CF;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E00;&#x6837;&#x628A;&#x6570;&#x636E;&#x62BD;&#x8C61;&#x4E00;&#x884C;&#x884C;&#x8BB0;&#x5F55;&#x53BB;&#x9002;&#x5E94;&#x6570;&#x636E;&#x5E93;.&#x540C;&#x65F6;&#x5728;&#x5B58;&#x50A8;&#x7684;&#x65F6;&#x5019;,ES&#x8FD8;&#x4F1A;<strong>&#x7D22;&#x5F15;</strong>&#x6BCF;&#x6761;&#x6570;&#x636E;&#x5185;&#x5BB9;&#x4F7F;&#x5F97;&#x6BCF;&#x6761;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x88AB;&#x641C;&#x7D22;.<br>ES&#x5B58;&#x50A8;&#x7684;&#x76F8;&#x5173;&#x6982;&#x5FF5;&#x4E0E;&#x4F20;&#x7EDF;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5BF9;&#x6BD4;:<br>&#x5176;&#x4E2D;&#x7684;<strong>fields(&#x5B57;&#x6BB5;)</strong>&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5217;;&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;<strong>Document(&#x6587;&#x6863;)</strong>&#x76F8;&#x5F53;&#x4E8E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x884C;(&#x4E00;&#x6761;&#x6570;&#x636E;);&#x76F8;&#x540C;&#x7C7B;&#x578B;&#x7684;Documents&#x7EC4;&#x6210;&#x4E00;&#x4E2A;<strong>type(&#x7C7B;&#x578B;)</strong>,&#x76F8;&#x5F53;&#x4E8E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E00;&#x5F20;&#x6570;&#x636E;&#x8868;;&#x800C;&#x591A;&#x4E2A;types&#x5C31;&#x4F1A;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;<strong>index(&#x7D22;&#x5F15;)</strong>,&#x76F8;&#x5F53;&#x4E8E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x7684;&#x6570;&#x636E;&#x5E93;.&#x5173;&#x7CFB;&#x5BF9;&#x5E94;&#x5982;&#x4E0B;:</p>
<blockquote>
<p>Relational DB -&gt; Databases -&gt; Tables -&gt; Rows -&gt; Columns<br>Elasticsearch -&gt; Indices   -&gt; Types  -&gt; Documents -&gt; Fields</p>
</blockquote>
<h4 id="1-index"><a href="#1-index" class="headerlink" title="1. index"></a>1. index</h4><h5 id="index&#x7684;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;&#x4ECB;&#x7ECD;"><a href="#index&#x7684;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;&#x4ECB;&#x7ECD;" class="headerlink" title="index&#x7684;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;&#x4ECB;&#x7ECD;:"></a>index&#x7684;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;&#x4ECB;&#x7ECD;:</h5><ul>
<li>&#x7D22;&#x5F15;&#xFF08;&#x540D;&#x8BCD;&#xFF09; &#x5982;&#x4E0A;&#x6587;&#x6240;&#x8FF0;&#xFF0C;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;(index)&#x5C31;&#x50CF;&#x662F;&#x4F20;&#x7EDF;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5B83;&#x662F;&#x76F8;&#x5173;&#x6587;&#x6863;&#x5B58;&#x50A8;&#x7684;&#x5730;&#x65B9;&#xFF0C;index&#x7684;&#x590D;&#x6570;&#x662F;indices &#x6216;indexes&#x3002;</li>
<li>&#x7D22;&#x5F15;&#xFF08;&#x52A8;&#x8BCD;&#xFF09; &#x300C;&#x7D22;&#x5F15;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x300D;&#x8868;&#x793A;&#x628A;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x5B58;&#x50A8;&#x5230;&#x7D22;&#x5F15;&#xFF08;&#x540D;&#x8BCD;&#xFF09;&#x91CC;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B83;&#x53EF;&#x4EE5;&#x88AB;&#x68C0;&#x7D22;&#x6216;&#x8005;&#x67E5;&#x8BE2;&#x3002;&#x8FD9;&#x5F88;&#x50CF;SQL&#x4E2D;&#x7684;INSERT&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x5DEE;&#x522B;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x6587;&#x6863;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#xFF0C;&#x65B0;&#x7684;&#x6587;&#x6863;&#x5C06;&#x8986;&#x76D6;&#x65E7;&#x7684;&#x6587;&#x6863;&#x3002;</li>
</ul>
<h4 id="2indextype&#x7684;&#x5EFA;&#x7ACB;"><a href="#2-index-type&#x7684;&#x5EFA;&#x7ACB;" class="headerlink" title="2.index,type&#x7684;&#x5EFA;&#x7ACB;"></a>2.index,type&#x7684;&#x5EFA;&#x7ACB;</h4><p>ES&#x5BF9;&#x63D0;&#x4F9B;&#x7684;REST ful&#x63A5;&#x53E3;,&#x4EFB;&#x4F55;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#x548C;&#x67E5;&#x8BE2;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x60F3;ES&#x53D1;&#x9001;HTTP&#x8BF7;&#x6C42;&#x6765;&#x5B8C;&#x6210;.&#x5173;&#x4E8E;RESTful&#x534F;&#x8BAE;&#x7684;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x53EF;&#x4EE5;&#x53C2;&#x7167;&#x4E00;&#x4E0B;<a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html" target="_blank" rel="external">RESTful API &#x8BBE;&#x8BA1;&#x6307;&#x5357;</a>,&#x4E86;&#x89E3;&#x4E00;&#x4E0B;RESTful&#x534F;&#x8BAE;&#x80FD;&#x5171;&#x66F4;&#x5BB9;&#x6613;&#x7406;&#x89E3;ES&#x63D0;&#x4F9B;&#x7684;&#x63A5;&#x53E3;.<br>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x8981;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x6240;&#x4EE5;,&#x6309;&#x7167;ES&#x63D0;&#x4F9B;&#x7684;RESTful&#x63A5;&#x53E3;,&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x5BF9;ES&#x53D1;&#x4E00;&#x4E2A;PUT&#x8BF7;&#x6C42;,&#x5982;&#x4E0B;:</p>
<blockquote>
<p>PUT   <a href="http://localhost:9200/testindex" target="_blank" rel="external">http://localhost:9200/testindex</a></p>
</blockquote>
<p>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;index&#x540D;&#x5B57;&#x91CC;&#x7684;&#x5B57;&#x6BCD;&#x90FD;&#x5FC5;&#x987B;&#x662F;<strong>&#x5C0F;&#x5199;</strong>.<br>&#x5982;&#x679C;&#x6210;&#x529F;,&#x6211;&#x4EEC;&#x4F1A;&#x83B7;&#x53D6;&#x5982;&#x4E0B;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  &quot;acknowledged&quot;: true</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x518D;&#x5411;ES&#x53D1;&#x9001;GET&#x8BF7;&#x6C42;,&#x6765;&#x83B7;&#x53D6;&#x6211;&#x4EEC;&#x521A;&#x521A;&#x521B;&#x5EFA;&#x7684;testindex&#x7684;&#x5C5E;&#x6027;:</p>
<blockquote>
<p>GET  <a href="http://localhost:9200/testindex" target="_blank" rel="external">http://localhost:9200/testindex</a></p>
</blockquote>
<p>&#x7ED3;&#x679C;&#x5982;&#x4E0B;:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  &quot;testindex&quot;: {</span><br><span class="line">    &quot;aliases&quot;: {},</span><br><span class="line">    &quot;mappings&quot;: {},</span><br><span class="line">    &quot;settings&quot;: {</span><br><span class="line">      &quot;index&quot;: {</span><br><span class="line">        &quot;creation_date&quot;: &quot;1465748163064&quot;,</span><br><span class="line">        &quot;uuid&quot;: &quot;uYyeZC_bQ1Olwe8lDrqXaw&quot;,</span><br><span class="line">        &quot;number_of_replicas&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;number_of_shards&quot;: &quot;5&quot;,</span><br><span class="line">        &quot;version&quot;: {</span><br><span class="line">          &quot;created&quot;: &quot;2030399&quot;</span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">    },</span><br><span class="line">    &quot;warmers&quot;: {}</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x76F8;&#x5173;&#x7684;tpye,document&#x6700;&#x7B80;&#x5355;&#x7684;&#x589E;&#x5220;&#x67E5;&#x6539;&#x4E5F;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;PUT GET POST DELET &#x51E0;&#x4E2A;&#x5E38;&#x7528;&#x7684;&#x8BF7;&#x6C42;&#x6765;&#x5B8C;&#x6210;,&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x505A;&#x8BE6;&#x7EC6;&#x7684;&#x4ECB;&#x7ECD;&#x4E86;,&#x8BE6;&#x7EC6;&#x7684;&#x53EF;&#x4EE5;&#x67E5;&#x770B;<a href="http://es.xiaoleilu.com/010_Intro/25_Tutorial_Indexing.html" target="_blank" rel="external">ElasticSearch&#x6743;&#x5A01;&#x6307;&#x5357;&#x4E2D;&#x6587;&#x7248;</a>&#x4E86;&#x89E3;&#x4E00;&#x4E0B;.</p>
<h4 id="3mapping"><a href="#3-mapping" class="headerlink" title="3.mapping"></a>3.mapping</h4><p>mapping&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x63CF;&#x8FF0;index/type&#x4EE5;&#x53CA;field&#x7684;&#x5143;&#x6570;&#x636E;,&#x901A;&#x8FC7;mapping&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6765;&#x8BBE;&#x7F6E;index/type/field.<br>&#x5355;&#x72EC;&#x7684;&#x751F;&#x6210;&#x6216;&#x8005;&#x66F4;&#x65B0;type&#x7684;mappiing</p>
<blockquote>
<p><strong>URL:</strong> <strong>PUT</strong> <a href="http://localhost:9200/wisdomhr/_mapping/basejob/" target="_blank" rel="external">http://localhost:9200/wisdomhr/_mapping/basejob/</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">      &quot;properties&quot;: {</span><br><span class="line">          &quot;activateTiem&quot;: {</span><br><span class="line">            &quot;type&quot;: &quot;date&quot;,</span><br><span class="line">            &quot;format&quot;: &quot;yyyy-MM-dd&quot;</span><br><span class="line">          },</span><br><span class="line">          &quot;title&quot;: {</span><br><span class="line">            &quot;type&quot;: &quot;string&quot;,</span><br><span class="line">            &quot;boost&quot;: 10,</span><br><span class="line">            &quot;store&quot;: true,</span><br><span class="line">            &quot;analyzer&quot;: &quot;ik&quot;</span><br><span class="line">          }</span><br><span class="line">        }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>&#x53C2;&#x8003;&#x6587;&#x6863;:<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html#merging-conflicts" target="_blank" rel="external">&#x66F4;&#x65B0;mapping</a><br>&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;&#x6784;&#x5EFA;mapping&#x7684;&#x65F6;&#x5019;&#x6765;&#x8BBE;&#x7F6E;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x7684;&#x5C5E;&#x6027;,&#x4E3B;&#x8981;&#x662F;&#x5305;&#x62EC;&#x5B57;&#x6BB5;&#x7684;&#x7C7B;&#x578B;,&#x662F;&#x5426;&#x88AB;&#x5206;&#x8BCD;,&#x5206;&#x8BCD;&#x4F7F;&#x7528;&#x7684;&#x5206;&#x8BCD;&#x5668;,&#x5206;&#x8BCD;&#x65F6;&#x5019;&#x81EA;&#x5DF1;&#x6240;&#x5360;&#x7684;&#x6BD4;&#x91CD;&#x7B49;,&#x5982;&#x4E0B;:</p>
<blockquote>
<ul>
<li>type:&#x7C7B;&#x578B;,&#x5305;&#x62EC;date,string,boolean,integer&#x7B49;,&#x8DDF;&#x5E38;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x8DDF;java&#x5F88;&#x76F8;&#x4F3C;,&#x540C;&#x65F6;&#x4E5F;&#x6709;array&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5B58;&#x50A8;&#x6570;&#x7EC4;.</li>
<li>analyzer: &#x5206;&#x8BCD;&#x5668;,&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x4F1A;&#x51B3;&#x5B9A;&#x4F60;&#x5728;&#x7D22;&#x5F15;&#x548C;&#x67E5;&#x627E;&#x9636;&#x6BB5;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x5206;&#x8BCD;&#x5668;;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7279;&#x522B;&#x6307;&#x51FA;,analyzer&#x5B9A;&#x4E49;&#x7684;&#x5206;&#x8BCD;&#x5668;&#x53EF;&#x4EE5;&#x7528;&#x5728;&#x7D22;&#x5F15;&#x548C;&#x67E5;&#x627E;&#x9636;&#x6BB5;.&#x4E5F;&#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x901A;&#x8FC7;search_analyzer&#x6765;&#x6307;&#x5B9A;&#x4F5C;&#x4E3A;&#x67E5;&#x627E;&#x65F6;&#x7684;&#x5206;&#x8BCD;&#x5668;.</li>
<li>boost:&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x4F1A;&#x51B3;&#x5B9A;&#x4F60;&#x5728;&#x5206;&#x8BCD;&#x7684;&#x65F6;&#x5019;&#x8BE5;&#x5B57;&#x6BB5;&#x7684;&#x6743;&#x91CD;,&#x5728;&#x641C;&#x7D22;&#x7684;&#x65F6;&#x5019;,&#x9ED8;&#x8BA4;&#x4F1A;&#x6309;&#x7167;&#x6BCF;&#x6761;&#x6570;&#x636E;&#x7684;&#x8BC4;&#x5206;&#x6765;&#x8FDB;&#x884C;&#x6392;&#x5E8F;,&#x800C;&#x8FD9;&#x4E2A;&#x6743;&#x91CD;&#x5C31;&#x4F1A;&#x7528;&#x57FA;&#x7840;&#x5F97;&#x5206;*&#x6743;&#x91CD;&#x6765;&#x51B3;&#x5B9A;&#x6700;&#x540E;&#x7684;&#x5F97;&#x5206;.</li>
<li>format:&#x5F53;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x662F;date&#x7684;&#x65F6;&#x5019;,&#x901A;&#x8FC7;format&#x6765;&#x8BBE;&#x7F6E;&#x65F6;&#x95F4;&#x7684;&#x683C;&#x5F0F;</li>
</ul>
</blockquote>
<p>&#x5176;&#x4F59;&#x7684;&#x66F4;&#x591A;&#x7684;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5B98;&#x65B9;&#x6587;&#x6863;<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analyzer.html" target="_blank" rel="external">mapping</a></p>
<h3 id="3-es&#x7684;&#x7D22;&#x5F15;&#x8FC7;&#x7A0B;"><a href="#3-ES&#x7684;&#x7D22;&#x5F15;&#x8FC7;&#x7A0B;" class="headerlink" title="3 ES&#x7684;&#x7D22;&#x5F15;&#x8FC7;&#x7A0B;"></a>3 ES&#x7684;&#x7D22;&#x5F15;&#x8FC7;&#x7A0B;</h3><p>ES&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x66F4;&#x597D;&#x7684;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;,&#x5728;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x4E4B;&#x524D;,&#x90FD;&#x4F1A;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x7D22;&#x5F15;(&#x52A8;&#x8BCD;),&#x90A3;&#x4E48;&#x5728;&#x8FD9;&#x4E2A;&#x6240;&#x4EE5;&#x8FC7;&#x7A0B;&#x91CC;&#x9762;,ES&#x90FD;&#x505A;&#x4E86;&#x4EC0;&#x4E48;?</p>
<p>####a. &#x6587;&#x6863;&#x5206;&#x6790;(analysis)<br>ES&#x4F1A;&#x5BF9;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x64CD;&#x4F5C;&#x548C;&#x5904;&#x7406;,&#x662F;&#x4ED6;&#x4EEC;&#x80FD;&#x591F;&#x66F4;&#x5BB9;&#x6613;&#x88AB;&#x641C;&#x7D22;.&#x5B83;&#x5305;&#x62EC;&#x5982;&#x4E0B;&#x7684;&#x51E0;&#x4E2A;&#x8FC7;&#x7A0B;:</p>
<h5 id="&#x5B57;&#x7B26;&#x8FC7;&#x6EE4;&#x5668;character-filter&#x5904;&#x7406;"><a href="#&#x5B57;&#x7B26;&#x8FC7;&#x6EE4;&#x5668;-character-filter-&#x5904;&#x7406;" class="headerlink" title="&#x5B57;&#x7B26;&#x8FC7;&#x6EE4;&#x5668;(character filter)&#x5904;&#x7406;"></a>&#x5B57;&#x7B26;&#x8FC7;&#x6EE4;&#x5668;(character filter)&#x5904;&#x7406;</h5><p>&#x5B57;&#x7B26;&#x8FC7;&#x6EE4;&#x5668;&#x7684;&#x4E3B;&#x8981;&#x5DE5;&#x4F5C;&#x5BA4;&#x5BF9;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7684;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x548C;&#x5904;&#x7406;,&#x6BD4;&#x5982;&#x53BB;&#x9664;&#x6389;&#x6587;&#x6863;&#x4E2D;&#x7684;html&#x6807;&#x7B7E;,&#x628A;&amp;&#x53D8;&#x6210;&#x5355;&#x8BCD;&#x201D;and&#x201D;&#x7B49;&#x7B49;</p>
<h5 id="&#x5206;&#x8BCD;&#x5668;tokenizer&#x5904;&#x7406;"><a href="#&#x5206;&#x8BCD;&#x5668;-tokenizer-&#x5904;&#x7406;" class="headerlink" title="&#x5206;&#x8BCD;&#x5668;(tokenizer)&#x5904;&#x7406;"></a>&#x5206;&#x8BCD;&#x5668;(tokenizer)&#x5904;&#x7406;</h5><p>&#x6240;&#x8C13;&#x7684;&#x5206;&#x8BCD;&#x5668;&#x5C31;&#x662F;&#x6307;&#x67D0;&#x79CD;&#x7B97;&#x6CD5;,&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x4F1A;&#x6309;&#x7167;&#x81EA;&#x5DF1;&#x7684;&#x5BF9;&#x6587;&#x6863;(&#x7ECF;&#x8FC7;&#x5B57;&#x7B26;&#x8FC7;&#x6EE4;&#x5668;&#x5904;&#x7406;&#x8FC7;&#x7684;&#x6587;&#x6863;)&#x8FDB;&#x884C;&#x5904;&#x7406;,&#x63D0;&#x53D6;&#x82E5;&#x5E72;&#x7684;&#x5355;&#x8BCD;,&#x8FD9;&#x4E9B;&#x88AB;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x7684;&#x5355;&#x8BCD;&#x5C31;&#x6210;&#x4E3A;&#x8BCD;&#x5143;(<strong>Token</strong>),&#x987E;&#x540D;&#x601D;&#x4E49;,&#x8FD9;&#x4E9B;&#x8BCD;&#x5143;&#x5DF2;&#x7ECF;&#x662F;&#x6700;&#x5C0F;&#x7684;&#x4E0D;&#x80FD;&#x5206;&#x5272;&#x4E86;.</p>
<h5 id="&#x6807;&#x8BB0;&#x8FC7;&#x6EE4;token-filters&#x5904;&#x7406;"><a href="#&#x6807;&#x8BB0;&#x8FC7;&#x6EE4;-token-filters-&#x5904;&#x7406;" class="headerlink" title="&#x6807;&#x8BB0;&#x8FC7;&#x6EE4;(token filters)&#x5904;&#x7406;"></a>&#x6807;&#x8BB0;&#x8FC7;&#x6EE4;(token filters)&#x5904;&#x7406;</h5><p>&#x6807;&#x8BB0;&#x8FC7;&#x6EE4;(<strong>token filters</strong>)&#x4F1A;&#x5BF9;&#x8BCD;&#x5143;(<strong>Token</strong>)&#x8FDB;&#x884C;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x5904;&#x7406;,&#x5904;&#x7406;&#x7EC6;&#x8282;&#x5305;&#x62EC;&#x4E00;&#x4E9B;&#x5C06;&#x5355;&#x8BCD;&#x7684;&#x5927;&#x5199;&#x53D8;&#x6210;&#x5C0F;&#x5199;&#x3001;&#x53BB;&#x9664;&#x82F1;&#x8BED;&#x4E2D;&#x7684;&#x8FDE;&#x8BCD;&#x6216;&#x8005;&#x4ECB;&#x8BCD;(to,for,of&#x7B49;)&#x3001;&#x53BB;&#x9664;&#x6C49;&#x8BED;&#x4E2D;&#x7684;&#x8BED;&#x6C14;&#x8BCD;&#x7B49;&#x3001;&#x8FDB;&#x4E00;&#x6B65;&#x4FDD;&#x8BC1;&#x6700;&#x540E;&#x5269;&#x4E0B;&#x7684;&#x5355;&#x8BCD;&#x90FD;&#x662F;&#x6709;&#x660E;&#x786E;&#x7684;&#x81EA;&#x7136;&#x8BED;&#x4E49;&#x7684;&#x8BCD;&#xFF0C;&#x8FD9;&#x4E9B;&#x5269;&#x4E0B;&#x7684;&#x5355;&#x8BCD;&#x5C31;&#x88AB;&#x79F0;&#x4F5C;&#x8BCD;&#xFF08;<strong>term</strong>&#xFF09;</p>
<p>&#x5230;&#x6B64;&#x6574;&#x4E2A;&#x6587;&#x6863;&#x5206;&#x6790;&#x9636;&#x6BB5;&#x5C31;&#x7ED3;&#x675F;&#x4E86;</p>
<h4 id="b&#x5012;&#x6392;&#x7D22;&#x5F15;"><a href="#b-&#x5012;&#x6392;&#x7D22;&#x5F15;" class="headerlink" title="b.&#x5012;&#x6392;&#x7D22;&#x5F15;"></a>b.&#x5012;&#x6392;&#x7D22;&#x5F15;</h4><p>Elasticsearch&#x4F7F;&#x7528;&#x4E00;&#x79CD;&#x53EB;&#x505A;&#x5012;&#x6392;&#x7D22;&#x5F15;(inverted index)&#x7684;&#x7ED3;&#x6784;&#x6765;&#x505A;&#x5FEB;&#x901F;&#x7684;&#x5168;&#x6587;&#x641C;&#x7D22;&#x3002;&#x5012;&#x6392;&#x7D22;&#x5F15;&#x7531;&#x5728;&#x6587;&#x6863;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x552F;&#x4E00;&#x7684;&#x5355;&#x8BCD;&#x5217;&#x8868;&#xFF0C;&#x4EE5;&#x53CA;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x5728;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;&#x7EC4;&#x6210;&#x3002;<br>&#x5206;&#x8BCD;&#x7ED3;&#x675F;&#x540E;,es&#x4F1A;&#x6839;&#x636E;&#x5206;&#x8BCD;&#x7684;&#x7ED3;&#x679C;&#x8BCD;(<strong>term</strong>)&#x6784;&#x5EFA;&#x51FA;&#x4E00;&#x4E2A;&#x5012;&#x5E8F;&#x7D22;&#x5F15;&#x7528;&#x4E8E;&#x5FEB;&#x901F;&#x67E5;&#x8BE2;.</p>
<h4 id="c&#x76F8;&#x5173;&#x5EA6;&#x8BC4;&#x5206;"><a href="#c-&#x76F8;&#x5173;&#x5EA6;&#x8BC4;&#x5206;" class="headerlink" title="c.&#x76F8;&#x5173;&#x5EA6;&#x8BC4;&#x5206;"></a>c.&#x76F8;&#x5173;&#x5EA6;&#x8BC4;&#x5206;</h4><p>&#x5728;&#x7D22;&#x5F15;&#x9636;&#x6BB5;es&#x505A;&#x7684;&#x53E6;&#x4E00;&#x4EF6;&#x4E8B;&#x5C31;&#x662F;&#x8BA1;&#x7B97;&#x4E0D;&#x540C;&#x8BCD;(<strong>term</strong>)&#x5728;&#x4E0D;&#x540C;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5EA6;&#x8BC4;&#x5206;,&#x8FD9;&#x4E2A;&#x8BC4;&#x5206;&#x4F1A;&#x7528;&#x5728;&#x4E4B;&#x540E;&#x67E5;&#x8BE2;&#x65F6;&#x5019;&#x7684;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7684;&#x6392;&#x5E8F;&#x4E0A;,&#x9ED8;&#x8BA4;&#x7684;&#x4F1A;&#x5C06;&#x76F8;&#x5173;&#x5EA6;&#x8F83;&#x9AD8;&#x7684;&#x6587;&#x6863;&#x6392;&#x5728;&#x6700;&#x524D;&#x9762;</p>
<h3 id="4&#x67E5;&#x8BE2;&#x7684;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;"><a href="#4&#x67E5;&#x8BE2;&#x7684;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;" class="headerlink" title="4&#x67E5;&#x8BE2;&#x7684;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;"></a>4&#x67E5;&#x8BE2;&#x7684;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;</h3><h4 id="aurl&#x63A7;&#x5236;&#x7684;&#x7B80;&#x5355;&#x67E5;&#x8BE2;&#x901A;&#x8FC7;get&#x8BF7;&#x6C42;&#x4E2D;&#x7684;url&#x53C2;&#x6570;&#x63A7;&#x5236;"><a href="#a-URL&#x63A7;&#x5236;&#x7684;&#x7B80;&#x5355;&#x67E5;&#x8BE2;-&#x901A;&#x8FC7;GET&#x8BF7;&#x6C42;&#x4E2D;&#x7684;URL&#x53C2;&#x6570;&#x63A7;&#x5236;" class="headerlink" title="a.URL&#x63A7;&#x5236;&#x7684;&#x7B80;&#x5355;&#x67E5;&#x8BE2;(&#x901A;&#x8FC7;GET&#x8BF7;&#x6C42;&#x4E2D;&#x7684;URL&#x53C2;&#x6570;&#x63A7;&#x5236;)"></a>a.URL&#x63A7;&#x5236;&#x7684;&#x7B80;&#x5355;&#x67E5;&#x8BE2;(&#x901A;&#x8FC7;GET&#x8BF7;&#x6C42;&#x4E2D;&#x7684;URL&#x53C2;&#x6570;&#x63A7;&#x5236;)</h4><h5 id="1&#x7A7A;&#x67E5;&#x8BE2;"><a href="#1-&#x7A7A;&#x67E5;&#x8BE2;" class="headerlink" title="1.&#x7A7A;&#x67E5;&#x8BE2;"></a>1.&#x7A7A;&#x67E5;&#x8BE2;</h5><p>&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;,&#x6700;&#x7B80;&#x5355;&#x7684;,&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5411;ES&#x53D1;&#x9001;&#x4E00;&#x4E2A;get&#x8BF7;&#x6C42;,&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x7684;url,&#x5982;&#x4E0B;</p>
<blockquote>
<p>GET <a href="http://localhost:9200/my_index/_search" target="_blank" rel="external">http://localhost:9200/my_index/_search</a></p>
</blockquote>
<p>&#x9ED8;&#x8BA4;&#x7684;,&#x4F1A;ES&#x4F1A;&#x53D1;&#x6325;my_index&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;,&#x5982;&#x679C;&#x6570;&#x636E;&#x8FC7;&#x591A;ES&#x4F1A;&#x81EA;&#x52A8;&#x8FDB;&#x884C;&#x5206;&#x9875;&#x5904;&#x7406;&#x663E;&#x793A;&#x4E00;&#x90E8;&#x5206;&#x6570;&#x636E;(&#x9ED8;&#x8BA4;&#x662F;10&#x4E2A;).&#x4F1A;&#x8FD4;&#x56DE;&#x5982;&#x4E0B;&#x5F62;&#x5F0F;&#x7684;&#x7ED3;&#x679C;:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  &quot;took&quot;: 62,</span><br><span class="line">  &quot;timed_out&quot;: false,</span><br><span class="line">  &quot;_shards&quot;: {</span><br><span class="line">    &quot;total&quot;: 5,</span><br><span class="line">    &quot;successful&quot;: 5,</span><br><span class="line">    &quot;failed&quot;: 0</span><br><span class="line">  },</span><br><span class="line">  &quot;hits&quot;: {</span><br><span class="line">    &quot;total&quot;: 1,</span><br><span class="line">    &quot;max_score&quot;: 1,</span><br><span class="line">    &quot;hits&quot;: [</span><br><span class="line">      {</span><br><span class="line">        &quot;_index&quot;: &quot;my_index&quot;,</span><br><span class="line">        &quot;_type&quot;: &quot;my_type&quot;,</span><br><span class="line">        &quot;_id&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;_score&quot;: 1,</span><br><span class="line">        &quot;_source&quot;: {</span><br><span class="line">          &quot;title&quot;: &quot;Some short title&quot;,</span><br><span class="line">          &quot;date&quot;: &quot;2015-01-01&quot;,</span><br><span class="line">          &quot;content&quot;: &quot;A very long content field...&quot;</span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">    ]</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<h5 id="2&#x5206;&#x9875;&#x67E5;&#x8BE2;"><a href="#2-&#x5206;&#x9875;&#x67E5;&#x8BE2;" class="headerlink" title="2.&#x5206;&#x9875;&#x67E5;&#x8BE2;"></a>2.&#x5206;&#x9875;&#x67E5;&#x8BE2;</h5><p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5206;&#x9875;&#x529F;&#x80FD;,&#x5C31;&#x9700;&#x8981;&#x5728;get&#x8BF7;&#x6C42;&#x7684;url&#x4E2D;&#x52A0;&#x5165;size&#x548C;from&#x4FE9;&#x4E2A;&#x53C2;&#x6570;,size&#x8868;&#x793A;&#x5206;&#x9875;&#x5927;&#x5C0F;,from&#x8868;&#x793A;&#x5F00;&#x59CB;&#x4F4D;&#x7F6E;,&#x5982;&#x4E0B;:</p>
<blockquote>
<p>GET <a href="http://localhost:9200/my_index/_search?size=5&amp;from=2" target="_blank" rel="external">http://localhost:9200/my_index/_search?size=5&amp;from=2</a></p>
</blockquote>
<h5 id="3&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;"><a href="#3-&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;" class="headerlink" title="3.&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;"></a>3.&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;</h5><p>&#x5982;&#x679C;&#x9700;&#x8981;&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;,&#x53EF;&#x4EE5;&#x5728;URL&#x53C2;&#x6570;&#x4E2D;&#x9644;&#x52A0;&#x4E00;&#x4E2A;q(query&#x7684;&#x610F;&#x601D;)&#x53C2;&#x6570;,&#x5982;&#x4E0B;:</p>
<blockquote>
<p>GET <a href="http://localhost:9200/my_index/_search?q=title:Some" target="_blank" rel="external">http://localhost:9200/my_index/_search?q=title:Some</a><br>&#x610F;&#x601D;&#x662F;&#x67E5;&#x8BE2;my_index&#x4E0B;title&#x4E2D;&#x5305;&#x542B;&#x201D;Some&#x201D;&#x7684;&#x6570;&#x636E;.</p>
</blockquote>
<h4 id="b&#x7ED3;&#x6784;&#x4F53;&#x67E5;&#x8BE2;&#x6784;&#x9020;json&#x683C;&#x5F0F;&#x7684;body&#x8FDB;&#x884C;&#x67E5;&#x8BE2;"><a href="#b-&#x7ED3;&#x6784;&#x4F53;&#x67E5;&#x8BE2;-&#x6784;&#x9020;json&#x683C;&#x5F0F;&#x7684;body&#x8FDB;&#x884C;&#x67E5;&#x8BE2;" class="headerlink" title="b.&#x7ED3;&#x6784;&#x4F53;&#x67E5;&#x8BE2;(&#x6784;&#x9020;json&#x683C;&#x5F0F;&#x7684;body&#x8FDB;&#x884C;&#x67E5;&#x8BE2;)"></a>b.&#x7ED3;&#x6784;&#x4F53;&#x67E5;&#x8BE2;(&#x6784;&#x9020;json&#x683C;&#x5F0F;&#x7684;body&#x8FDB;&#x884C;&#x67E5;&#x8BE2;)</h4><p>&#x901A;&#x8FC7;URL&#x53C2;&#x6570;&#x63A7;&#x5236;,&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x8FDB;&#x884C;&#x4E00;&#x4E0B;&#x7B80;&#x5355;&#x7684;&#x67E5;&#x8BE2;,&#x4F46;&#x662F;&#x5728;&#x5B9E;&#x9645;&#x8FC7;&#x7A0B;&#x4E2D;,&#x6211;&#x4EEC;&#x901A;&#x4EA7;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x90FD;&#x8981;&#x66F4;&#x52A0;&#x590D;&#x6742;,&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x53E6;&#x4E00;&#x79CD;&#x9002;&#x7528;&#x4E8E;&#x590D;&#x6742;&#x67E5;&#x8BE2;&#x7684;&#x65B9;&#x5F0F;&#x2013;&#x7ED3;&#x6784;&#x4F53;&#x67E5;&#x8BE2;.<br>&#x6309;&#x7167;rest ful&#x534F;&#x8BAE;,&#x6211;&#x4EEC;&#x4E5F;&#x662F;&#x5E94;&#x8BE5;&#x60F3;ES&#x53D1;&#x9001;GET&#x8BF7;&#x6C42;&#x6765;&#x83B7;&#x53D6;ES&#x4E2D;&#x7684;&#x6570;&#x636E;,&#x4F46;&#x662F;&#x5728;&#x65E5;&#x5E38;&#x5F00;&#x53D1;&#x4E2D;,&#x5F88;&#x591A;&#x5730;&#x65B9;&#x90FD;&#x4E0D;&#x5141;&#x8BB8;&#x5728;GET&#x8BF7;&#x6C42;&#x4E0A;&#x9644;&#x52A0;body&#x6570;&#x636E;,&#x56E0;&#x6B64;ES&#x4E2D;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;POST&#x6765;&#x83B7;&#x53D6;ES&#x4E2D;&#x7684;&#x6570;&#x636E;.&#x53D1;&#x9001;POST&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;,&#x9664;&#x4E86;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#x4E4B;&#x5916;,URL&#x548C;&#x6570;&#x636E;&#x4F53;body&#x90FD;&#x8DDF;GET&#x7684;&#x5B8C;&#x5168;&#x76F8;&#x540C;(&#x4EE5;&#x4E0B;&#x90FD;&#x4EE5;POST&#x8BF7;&#x6C42;&#x4E3A;&#x4F8B;)</p>
<h5 id="1body&#x5E38;&#x7528;&#x5C5E;&#x6027;"><a href="#1-body&#x5E38;&#x7528;&#x5C5E;&#x6027;" class="headerlink" title="1.body&#x5E38;&#x7528;&#x5C5E;&#x6027;"></a>1.body&#x5E38;&#x7528;&#x5C5E;&#x6027;</h5><ul>
<li>query<br>query&#x90E8;&#x5206;&#x662F;&#x67E5;&#x8BE2;&#x7684;&#x6838;&#x5FC3;&#x90E8;&#x5206;,&#x63D0;&#x4F9B;&#x4E86;&#x5305;&#x62EC;&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;,&#x7CBE;&#x786E;&#x8FC7;&#x6EE4;,&#x591A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x8054;&#x5408;&#x7684;&#x590D;&#x6742;&#x67E5;&#x8BE2;&#x6A21;&#x5F0F;.&#x4F8B;&#x5982;:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  &quot;query&quot;: { </span><br><span class="line">    &quot;bool&quot;: { </span><br><span class="line">      &quot;must&quot;: [</span><br><span class="line">        { &quot;match&quot;: { &quot;title&quot;:   &quot;Search&quot;        }}, </span><br><span class="line">        { &quot;match&quot;: { &quot;content&quot;: &quot;Elasticsearch&quot; }}  </span><br><span class="line">      ],</span><br><span class="line">      &quot;filter&quot;: [ </span><br><span class="line">        { &quot;term&quot;:  { &quot;status&quot;: &quot;published&quot; }}</span><br><span class="line">      ]</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x4E0A;&#x9762;&#x7684;body&#x7684;&#x5927;&#x610F;&#x662F;&#x8981;&#x641C;&#x7D22;title&#x4E2D;&#x5373;&#x5305;&#x542B;&#x201D;search&#x201D;&#x5E76;&#x4E14;content&#x4E2D;&#x5305;&#x542B;&#x201D;elasticsearch&#x201D;,&#x540C;&#x65F6;status&#x4E3A;&#x201D;published&#x201D;&#x6570;&#x636E;.&#x5173;&#x4E8E;query&#x6709;&#x4E13;&#x95E8;&#x7684;queryDSL&#x6765;&#x89C4;&#x5B9A;query&#x7684;&#x5F62;&#x5F0F;,&#x5728;&#x540E;&#x9762;&#x6587;&#x6863;&#x4E2D;&#x4F1A;&#x4ECB;&#x7ECD;.</p>
<ul>
<li><p>from/size &#x5206;&#x9875;<br>from/size&#x4E0E;url&#x4E2D;&#x76F8;&#x540C;,&#x540C;&#x6837;&#x662F;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x5206;&#x9875;&#x7684;&#x53C2;&#x6570;,&#x5982;&#x4E0B;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    &quot;from&quot; : 0, &quot;size&quot; : 10,</span><br><span class="line">    &quot;query&quot; : {</span><br><span class="line">        &quot;term&quot; : { &quot;user&quot; : &quot;kimchy&quot; }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
<li><p>sort &#x6392;&#x5E8F;<br>sort&#x90E8;&#x5206;&#x4F1A;&#x6309;&#x7167;&#x7ED9;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#x5BF9;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x6392;&#x5E8F;,&#x5982;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    {</span><br><span class="line">    &quot;sort&quot; : [</span><br><span class="line">        { &quot;post_date&quot; : {&quot;order&quot; : &quot;asc&quot;}},</span><br><span class="line">        { &quot;price&quot; : {&quot;order&quot; : &quot;asc&quot;}}</span><br><span class="line">    ],</span><br><span class="line">    &quot;query&quot; : {</span><br><span class="line">        &quot;term&quot; : { &quot;user&quot; : &quot;kimchy&quot; }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5982;&#x4E0A;,sort&#x4F1A;&#x4F18;&#x5148;&#x6309;&#x7167;post_date&#x8FDB;&#x884C;&#x6B63;&#x5E8F;&#x6392;&#x5E8F;,&#x5F53;post_date&#x76F8;&#x540C;&#x7684;&#x65F6;&#x5019;&#x5728;&#x6309;&#x7167;price&#x8FDB;&#x884C;&#x6B63;&#x5E8F;&#x6392;&#x5E8F;.&#x7279;&#x522B;&#x7684;&#x5728;&#x65E5;&#x5E38;&#x7684;&#x67E5;&#x8BE2;&#x4E2D;,&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x901A;&#x5E38;&#x90FD;&#x4F1A;&#x6709;&#x76F8;&#x5173;&#x7684;_scroe&#x8BC4;&#x5206;,&#x9ED8;&#x8BA4;&#x7684;,ES&#x4F1A;&#x6309;&#x7167;_score&#x5BF9;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x6027;&#x5012;&#x53D9;&#x6392;&#x5E8F;,&#x662F;&#x7684;&#x76F8;&#x5173;&#x5EA6;&#x6700;&#x9AD8;&#x7684;&#x6587;&#x6863;&#x5728;&#x6700;&#x524D;&#x65B9;&#x663E;&#x793A;.</p>
<ul>
<li>fields<br>fields&#x5B57;&#x6BB5;&#x4F1A;&#x5BF9;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;,&#x662F;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x53EA;&#x8FD4;&#x56DE;&#x6307;&#x5B9A;&#x7684;&#x5B57;&#x6BB5;,&#x4F8B;&#x5982;:<br>&#x5F53;&#x4E0D;&#x662F;&#x7528;fields&#x5B57;&#x6BB5;&#x7684;&#x65F6;&#x5019;,body&#x5982;&#x4E0B;:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    &quot;query&quot;:{</span><br><span class="line">        &quot;match&quot;:{&quot;title&quot;:&quot;some&quot;}</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x9ED8;&#x8BA4;&#x7684;&#x4F1A;&#x5305;&#x542B;&#x6240;&#x6709;&#x4FDD;&#x5B58;&#x7684;&#x5B57;&#x6BB5;:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">       &quot;_index&quot;: &quot;my_index&quot;,</span><br><span class="line">       &quot;_type&quot;: &quot;my_type&quot;,</span><br><span class="line">       &quot;_id&quot;: &quot;1&quot;,</span><br><span class="line">       &quot;_score&quot;: 0.15342641,</span><br><span class="line">       &quot;_source&quot;: {</span><br><span class="line">         &quot;title&quot;: &quot;Some short title&quot;,</span><br><span class="line">         &quot;date&quot;: &quot;2015-01-01&quot;,</span><br><span class="line">         &quot;content&quot;: &quot;A very long content field...&quot;</span><br><span class="line">       }</span><br><span class="line">     }</span><br></pre></td></tr></table></figure></p>
<p>&#x5F53;&#x6211;&#x4EEC;&#x4F7F;&#x7528;fields&#x7684;&#x65F6;&#x5019;,body&#x5982;&#x4E0B;:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    &quot;fields&quot;:[&quot;title&quot;],</span><br><span class="line">    &quot;query&quot;:{</span><br><span class="line">        &quot;match&quot;:{&quot;title&quot;:&quot;some&quot;}</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x6570;&#x636E;&#x90E8;&#x5206;&#x6307;&#x6325;&#x663E;&#x793A;title&#x5B57;&#x6BB5;:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">      &quot;_index&quot;: &quot;my_index&quot;,</span><br><span class="line">      &quot;_type&quot;: &quot;my_type&quot;,</span><br><span class="line">      &quot;_id&quot;: &quot;1&quot;,</span><br><span class="line">      &quot;_score&quot;: 0.15342641,</span><br><span class="line">      &quot;fields&quot;: {</span><br><span class="line">        &quot;title&quot;: [</span><br><span class="line">          &quot;Some short title&quot;</span><br><span class="line">        ]</span><br><span class="line">      }</span><br><span class="line">    }</span><br></pre></td></tr></table></figure></p>
<ul>
<li>highlight<br>highlight&#x90E8;&#x5206;&#x7528;&#x6765;&#x63A7;&#x5236;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x7684;&#x9AD8;&#x4EAE;&#x663E;&#x793A;.&#x5F88;&#x591A;&#x65F6;&#x5019;,&#x5F53;&#x6211;&#x4EEC;&#x8FDB;&#x884C;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x7684;&#x65F6;&#x5019;&#x90FD;&#x4F1A;&#x5BF9;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x4E2D;&#x7684;&#x641C;&#x7D22;&#x5173;&#x952E;&#x5B57;&#x8FDB;&#x884C;&#x9AD8;&#x4EAE;&#x4EE5;&#x7A81;&#x51FA;&#x663E;&#x793A;,&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230;highlight,&#x5982;&#x53D1;&#x9001;&#x5982;&#x4E0B;body&#x7684;&#x8BF7;&#x6C42;:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    </span><br><span class="line">    &quot;query&quot;:{</span><br><span class="line">        &quot;match&quot;:{&quot;title&quot;:&quot;some&quot;}</span><br><span class="line">    },</span><br><span class="line">    &quot;highlight&quot; : {</span><br><span class="line">        &quot;pre_tags&quot; : [&quot;&lt;b&gt;&quot;], //&#x8BBE;&#x7F6E;&#x9AD8;&#x4EAE;&#x7684;&#x524D;  &#x540E;html&#x6807;&#x7B7E;</span><br><span class="line">        &quot;post_tags&quot; : [&quot;&lt;/b&gt;&quot;],</span><br><span class="line">        &quot;fields&quot; : {</span><br><span class="line">            &quot;title&quot; : {}</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5728;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x90E8;&#x5206;,&#x6211;&#x4EEC;&#x4F1A;&#x5F97;&#x5230;&#x9AD8;&#x4EAE;&#x7684;&#x5B57;&#x6BB5;,&#x5982;&#x4E0B;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">       &quot;_index&quot;: &quot;my_index&quot;,</span><br><span class="line">       &quot;_type&quot;: &quot;my_type&quot;,</span><br><span class="line">       &quot;_id&quot;: &quot;1&quot;,</span><br><span class="line">       &quot;_score&quot;: 0.15342641,</span><br><span class="line">       &quot;_source&quot;: {</span><br><span class="line">         &quot;title&quot;: &quot;Some short title&quot;,</span><br><span class="line">         &quot;date&quot;: &quot;2015-01-01&quot;,</span><br><span class="line">         &quot;content&quot;: &quot;A very long content field...&quot;</span><br><span class="line">       },</span><br><span class="line">       &quot;highlight&quot;: {  </span><br><span class="line">         &quot;title&quot;: [</span><br><span class="line">           &quot;&lt;b&gt;Some&lt;/b&gt; short title&quot;  //&#x8FD9;&#x91CC;&#x662F;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x7684;&#x5173;&#x952E;&#x5B57;</span><br><span class="line">         ]</span><br><span class="line">       }</span><br><span class="line">     }</span><br></pre></td></tr></table></figure></p>
<h5 id="2-query"><a href="#2-query" class="headerlink" title="2. query"></a>2. query</h5><p>ES&#x7684;&#x4E3B;&#x8981;&#x4EFB;&#x52A1;&#x662F;&#x901A;&#x8FC7;&#x5168;&#x6587;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x8FDB;&#x884C;&#x5168;&#x6587;&#x641C;&#x7D22;,&#x5728;ES&#x63D0;&#x4F9B;&#x7684;&#x63A5;&#x53E3;&#x4E2D;,&#x8FD9;&#x90E8;&#x5206;&#x4EFB;&#x52A1;&#x4E3B;&#x8981;&#x7531;&#x8BF7;&#x6C42;&#x4F53;&#x4E2D;&#x7684;query&#x90E8;&#x95E8;&#x6765;&#x5B8C;&#x6210;&#x7684;.&#x800C;query DSL&#x5C31;&#x662F;&#x6765;&#x89E3;&#x91CA;query&#x7684;&#x7528;&#x6CD5;.</p>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/java/">java</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/java-lucene/">java lucene</a>
  </div>

<!-- Baidu Button BEGIN -->
<div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare">
<a class="bds_qzone"></a>
<a class="bds_tsina"></a>
<a class="bds_tqq"></a>
<a class="bds_renren"></a>
<a class="bds_t163"></a>
<span class="bds_more"></span>
<a class="shareCount"></a>
</div>
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=3326447" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- Baidu Button END -->      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



 <nav id="pagination" >
    
    
    <a href="/2016/06/07/40.path和classpath的区别/" class="alignright next" >下一页</a>
    
    <div class="clearfix"></div>
</nav>



<section id="comment">

  <!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="post-41.ElasticSearch入门介绍" data-title="ElasticSearch 入门介绍" data-url="http://wisdombud.github.io/2016/08/15/41.ElasticSearch入门介绍/"></div>

  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <script type="text/javascript">
  var duoshuoQuery = {short_name:"wisdombud"};
  	(function() {
  		var ds = document.createElement('script');
  		ds.type = 'text/javascript';ds.async = true;
  		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  		ds.charset = 'UTF-8';
  		(document.getElementsByTagName('head')[0]
  		 || document.getElementsByTagName('body')[0]).appendChild(ds);
  	})();
  	</script>
  <!-- 多说公共JS代码 end -->


</section>


</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:wisdombud.github.io">
  </form>
</div>

  <div class="widget tag">
<h3 class="title">简介</h3>
<ul class="entry">
<li>慧萌信安</li>
<li>Mis And 互联网</li>
<li></li>
<li>Theme: <a href="https://github.com/zippera/lightum">Lightum</a>
</ul>
</div>


  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/C/">C#</a><small>3</small></li>
  
    <li><a href="/categories/J2EE-web/">J2EE-web</a><small>3</small></li>
  
    <li><a href="/categories/Java/">Java</a><small>1</small></li>
  
    <li><a href="/categories/SCM/">SCM</a><small>0</small></li>
  
    <li><a href="/categories/WEB/">WEB</a><small>1</small></li>
  
    <li><a href="/categories/java/">java</a><small>8</small></li>
  
    <li><a href="/categories/javacript/">javacript</a><small>4</small></li>
  
    <li><a href="/categories/javascript/">javascript</a><small>1</small></li>
  
    <li><a href="/categories/log/">log</a><small>1</small></li>
  
    <li><a href="/categories/scm/">scm</a><small>1</small></li>
  
    <li><a href="/categories/web/">web</a><small>2</small></li>
  
    <li><a href="/categories/基础知识/">基础知识</a><small>1</small></li>
  
    <li><a href="/categories/学习/">学习</a><small>1</small></li>
  
    <li><a href="/categories/工具/">工具</a><small>1</small></li>
  
    <li><a href="/categories/常识/">常识</a><small>8</small></li>
  
    <li><a href="/categories/开发工具/">开发工具</a><small>2</small></li>
  
    <li><a href="/categories/数据库/">数据库</a><small>2</small></li>
  
  </ul>
</div>


  
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
        <embed tplayername="SWF" splayername="SWF"
            type="application/x-shockwave-flash" src="/tagcloud.swf"
            mediawrapchecked="true" pluginspage="http://www.macromedia.com/go/getflashplayer"
            id="tagcloudflash" name="tagcloudflash" bgcolor="#f3f3f3"
            quality="high" wmode="transparent" allowscriptaccess="always"
            flashvars="tcolor=0xbd1016&amp;tcolor2=0x808080&amp;hicolor=0x0065ff&amp;tspeed=100&amp;distr=true"
            height="100%" width="100%">
        </embed>
    </div>
  </div>


</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><section>
本博客由<a href="https://github.com/RoonyLi">李钊</a>维护，欢迎<a href="mailto:lizhao@wisdombud.com">投稿</a>
</section>
<div class="clearfix"></div>
</footer>
  <script src="//libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</body>
</html>


<a href="https://github.com/wisdombud" target="_blank"><img style="position: absolute; top: 0; left: 0; border: 0;" src="/imgs/forkme_left_green_007200.png" alt="Fork me on GitHub"></a>
